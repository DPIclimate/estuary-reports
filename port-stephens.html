<!DOCTYPE html>
<html lang="en" xmlns="https://www.w3.org/1999/xhtml" xmlns:o="urn:schemas-microsoft-com:office:office">
	<head>
		<title>FarmDesisionTECH Port Stephens Water Quality Report</title>
		<meta charset="utf-8">
		<meta http-equiv=”Content-Type”/>
		<meta name="google-site-verification" content="0Al8AazZiQLl8qHgusbGu6cuE1Dz3MN6TC47qit7iGE"/>
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<meta name="description" content="Summary of water quality for Port Stephens.">
		<meta name="keywords" content="Water quality Port Stephens NSW DPI Primary Industries">
		<link rel="icon" href="assets/dpi-logo-only.png">
		<link href="style.css" rel="stylesheet" type="text/css">
		<script src="port-stephens_table.js" type="text/javascript"></script>
		<script src="port-stephens_current_conditions.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet">
		<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js" type="text/javascript"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/1.2.1/chartjs-plugin-zoom.min.js" integrity="sha512-klQv6lz2YR+MecyFYMFRuU2eAl8IPRo6zHnsc9n142TJuJHS8CG0ix4Oq9na9ceeg1u5EkBfZsFcV3U7J51iew==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/1.4.0/chartjs-plugin-annotation.min.js" integrity="sha512-HrwQrg8S/xLPE6Qwe7XOghA/FOxX+tuVF4TxbvS73/zKJSs/b1gVl/P4MsdfTFWYFYg/ISVNYIINcg35Xvr6QQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script type="text/javascript">
			var salinityPlay = false;
			var timer;
			var temp_timer;
			var i = 0;
			var temp_i = 0;
			var salinity_urls = [];
			var temp_urls = [];
			for (let i = 0; i < 25; i++) {
				var surl = "https://dpiclimate.github.io/iot-spatial-interpolation/clyde_river/salinity/"+ i + ".png";
				var turl = "https://dpiclimate.github.io/iot-spatial-interpolation/clyde_river/temperature/"+ i + ".png";
				salinity_urls.push(surl);
				temp_urls.push(turl);
			}
			createValuesTable();
		</script>
	</head>
	<body>

		<div class="header" style="margin-top: 1%; margin-bottom: -2%;">
			<a href="https://dpiclimate.github.io/estuary-reports/">
				<img src="assets/DPI_logo.png" class="dpi-logo" style="max-height: 7rem"/>
			</a>
			<div>
				<h1>FarmDecisionTECH</h1>
				<h2>Port Stephens Report</h2>
			</div>
		</div>

		<div class="main-content">
			<div class="maintain-table" style="display: flex; flex-direction: column; justify-content: space-around;">
				<h2>Information</h2>
				<hr width="100%">
				<table class="fieldwork-table">
					<tr>
						<th>Date</th>
						<th>Activity</th>
						<th>Notes</th>
					</tr>
					<tr class="warning-row">
						<td>12th-17th October</td>
						<td>Lemon Tree Passage, Cromartys Bay</td>
						<td>Sensor error: reading abnormal salinity data that has since returned to normal levels.</td>
					</tr>
					<tr class="warning-row">
						<td>Current</td>
						<td>Historical Data Import</td>
						<td>The yearly precipitation chart is temporarily unavailable. We are currently working to import historical data.</td>
					</tr>
				</table>
				<div style="display: flex; flex-direction: row; flex-wrap: wrap; justify-content: flex-end; align-items: left;"> 
 					<a href="mailto: mal.kul@dpi.nsw.gov.au?subject=Report Inquiry - Port Stephens" target="_blank" 
						style="color: #002664; background: #fff; padding: 0.5rem; margin-top: 0.8rem;
						border: 1px solid #002664; text-decoration: none;">Report an Issue</a>
				</div>
			</div>

			<div class="variables-table">
				<h2>Current Conditions</h2>
				<hr>

				<input class="hidden" type="radio" name="cc-tabs" id="cc-tab1"  checked />
				<label for="cc-tab1">Water</label>

				<input class="hidden" type="radio" name="cc-tabs" id="cc-tab2" />
				<label for="cc-tab2">Weather</label>

				<div class="tab current-water">
					<table class="stripe hover row-border order-column" id="data-table" style="width: 100%;">
						<thead id="data-head"></thead>
						<tbody class="data-body" id="data-body"></tbody>
					</table>
					<p id="table-info">Loading... refresh page if no table appears.</p>
				</div>
				<div class="tab current-weather">
					<canvas class="air-humid-chart" id="air-humid-chart"></canvas>
					<div class="values-table-container">
						<table class="values-table">
							<thead class="values-table-head">
								<tr>
									<th></th>
									<th id="date-value">-</th>
								</tr>
							</thead>
							<tbody class="values-table-body">
								<tr class="temperature-row" style="color: rgb(255, 99, 132)">
									<td>Air Temperature</td>
									<td><h3 id="temperature-value">- &deg;C</h3></td>
								</tr>
								<tr class="humidity-row" style="color: #1BA098">
									<td>Humidity</td>
									<td><h3 id="humidity-value">- %</h3></td>
								</tr>
								<tr class="wind-row" style="color: #1D1D2C">
									<td>Wind Speed/Direction</td>
									<td><h3 id="wind-value">- kn WSW</h3></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<script>
					getTempAndHumid().then(config => {
						new Chart(document.getElementById('air-humid-chart'), config)
					});
				</script>
			</div>

			<div class="variables-table">
				<h2>Salinity</h2>
				<hr>

				<input class="hidden" type="radio" name="tabs" id="tab1" checked />
				<label for="tab1">Chart View</label>

				<input class="hidden" type="radio" name="tabs" id="tab2"/>
				<label for="tab2">In-depth View</label>

				<input class="hidden" type="radio" name="tabs" id="tab3"/>
				<label for="tab3">Fortnightly Trend</label>

				<div class="tab chart-view">
					<iframe title="Fortnightly Salinity Average Trend" aria-label="Interactive line chart" id="datawrapper-chart-gt27x" src="https://datawrapper.dwcdn.net/gt27x/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="583"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
					<hr>
					<iframe title="Weekly Minimum and Maximum Water Salinity" aria-label="Range Plot" id="datawrapper-chart-cPiZ2" src="https://datawrapper.dwcdn.net/cPiZ2/2/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="166"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

				<div class="tab indepth-view">
					<iframe title="7-Day Salinity Average Trend" aria-label="Split Bars" id="datawrapper-chart-un8OQ" src="https://datawrapper.dwcdn.net/un8OQ/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="618"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

				<div class="tab fortnightly-salinity-view">
					<iframe title="Fortnightly Average Salinity Trend" aria-label="Arrow Plot" id="datawrapper-chart-NQ3ve" src="https://datawrapper.dwcdn.net/NQ3ve/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="498"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>

				</div>

			</div>

			<div class="variables-table">
				<h2>Water Temperature</h2>
				<hr>

				<input class="hidden" type="radio" name="tabs-temp" id="tab1-temp" checked />
				<label for="tab1-temp">Chart View</label>

				<input class="hidden" type="radio" name="tabs-temp" id="tab2-temp"/>
				<label for="tab2-temp">In-depth View</label>

				<input class="hidden" type="radio" name="tabs-temp" id="tab3-temp"/>
				<label for="tab3-temp">Fortnightly Trend</label>

				<div class="tab temp-chart-view">
					<iframe title="Fortnightly Average Temperature Trend" aria-label="Interactive line chart" id="datawrapper-chart-4PKdO" src="https://datawrapper.dwcdn.net/4PKdO/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="583"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				<hr>
					<iframe title="Weekly Minimum and Maximum Water Temperature" aria-label="Range Plot" id="datawrapper-chart-L7zV4" src="https://datawrapper.dwcdn.net/L7zV4/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="166"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>	
				</div>

				<div class="tab temp-indepth-view">
					<iframe title="7-Day Temperature Average Trend" aria-label="Split Bars" id="datawrapper-chart-Cv7T6" src="https://datawrapper.dwcdn.net/Cv7T6/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="599"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

				<div class="tab fortnightly-temp-view">
					<iframe title="Fortnightly Average Temperature Trend" aria-label="Arrow Plot" id="datawrapper-chart-0M3e8" src="https://datawrapper.dwcdn.net/0M3e8/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="498"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

			</div>

			<div class="variables-table">
				<h2>Precipitation</h2>
				<hr>
				
				<input class="hidden" type="radio" name="tabs-precip" id="tab2-precip" checked/>
				<label for="tab2-precip">Yearly</label>

				<input class="hidden" type="radio" name="tabs-precip" id="tab1-precip"/>
				<label for="tab1-precip">Weekly</label>

				<div class="tab yearly-view">
					<iframe title="Year-to-Date Precipitation" aria-label="Interactive line chart" id="datawrapper-chart-i3brJ" src="https://datawrapper.dwcdn.net/i3brJ/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="442"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

				<div class="tab weekly-view">
					<iframe title="Port Stephens Precipitation" aria-label="Column Chart" id="datawrapper-chart-4WakW" src="https://datawrapper.dwcdn.net/4WakW/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="417"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>
			</div>

			<div class="variables-table">
				<h2>Upstream Discharge</h2>
				<hr>

				<input class="hidden" type="radio" name="tabs-flow" id="tab2-flow" checked/>
				<label for="tab2-flow">Yearly Karuah @ Booral</label>

				<input class="hidden" type="radio" name="tabs-flow" id="tab1-flow"/>
				<label for="tab1-flow">Fortnightly Karuah @ Booral</label>

				<input class="hidden" type="radio" name="tabs-flow" id="tab4-flow" checked/>
				<label for="tab4-flow">Yearly Karuah @ Dam Site</label>

				<input class="hidden" type="radio" name="tabs-flow" id="tab3-flow"/>
				<label for="tab3-flow">Fortnightly Karuah @ Dam Site</label>

				<input class="hidden" type="radio" name="tabs-flow" id="tab6-flow" checked/>
				<label for="tab6-flow">Yearly Mammy Johnsons @ Pikesxin</label>

				<input class="hidden" type="radio" name="tabs-flow" id="tab5-flow"/>
				<label for="tab5-flow">Fortnightly Mammy Johnsons @ Pikesxin</label>


				<div class="tab yearly1-view-flow">
					<iframe title="Karuah River Cumulative Daily Discharge Rate (at Booral)" aria-label="Interactive line chart" id="datawrapper-chart-V9N9H" src="https://datawrapper.dwcdn.net/V9N9H/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="656"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

				<div class="tab weekly1-view-flow">
					<iframe title="Karuah River Fortnightly Discharge Rate (at Booral)" aria-label="Column Chart" id="datawrapper-chart-eoCg7" src="https://datawrapper.dwcdn.net/eoCg7/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="600"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

				<div class="tab yearly2-view-flow">
					<iframe title="Karuah River Cumulative Daily Discharge Rate (at Dam Site)" aria-label="Interactive line chart" id="datawrapper-chart-2034F" src="https://datawrapper.dwcdn.net/2034F/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="656"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

				<div class="tab weekly2-view-flow">
					<iframe title="Karuah River Fortnightly Discharge Rate (at Dam Site)" aria-label="Column Chart" id="datawrapper-chart-f6p83" src="https://datawrapper.dwcdn.net/f6p83/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="600"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

				<div class="tab yearly3-view-flow">
					<iframe title="Mammy Johnsons River Cumulative Daily Discharge Rate (at Pikesxin)" aria-label="Interactive line chart" id="datawrapper-chart-YhaTi" src="https://datawrapper.dwcdn.net/YhaTi/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="656"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

				<div class="tab weekly3-view-flow">
					<iframe title="Mammy Johnsons River Fortnightly Discharge Rate (at Pikesxin)" aria-label="Column Chart" id="datawrapper-chart-RHNgd" src="https://datawrapper.dwcdn.net/RHNgd/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="600"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
				</div>

			</div>
			
			<style>
				/* Media query for screens smaller than 800px & 713px */
				@media (max-width: 800px) {
					.main-content {
						flex-direction: column;
						align-items: center;
					}
				}
				@media (max-width: 713px) {
					.main-content {
						margin-top: 150px !important;
					}
				}
			  </style>

			<h3 class="funding-source">This work has been produced by the NSW Primary Industries Climate Change Research Strategy funded by the NSW Climate Change Fund.</h3>
			<h4 class="funding-source">This data is released by NSW Department of Primary Industries for evaluation purposes only and should not be relied upon for business decisions, carrying out risk assessments or other uses. Please provide feedback and questions to <a href="mailto: ben.sefton@dpi.nsw.gov.au">ben.sefton@dpi.nsw.gov.au</a></h4>
		</div>
	</body>
	<footer>
		<div class="footer">
			<h3>Climate Smart Pilots</h3>
		</div>
	</footer>
</html>

